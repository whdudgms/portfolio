<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
PUBLIC "-//ibatis.apache.org//DTD Mapper 3.0//EN"
"http://ibatis.apache.org/dtd/ibatis-3-mapper.dtd">

<mapper namespace="com.lhs.dao.BoardDao">
	<!-- resultType은 반드시 있어야 함 -->
	<select id="list" parameterType="HashMap" resultType="com.lhs.dto.BoardDto">
		SELECT 
		board_seq, 
		type_seq, 
		member_id, 
		member_nick, 
		title, 
		content, 
		has_file, 
		hits, 
		create_dtm, 
		update_dtm
		FROM S_whdudgms.board
		where type_seq = #{typeSeq}
		limit 5
		;
	</select>

	<select id="getTotalArticleCnt" parameterType="HashMap"
		resultType="int">

	</select>
<!-- boardSeq가 전달된다  -->
	<insert id="write" parameterType="map"
		useGeneratedKeys="true" keyProperty="boardSeq">
		INSERT INTO S_whdudgms.board
(type_seq, member_id, member_nick, title, content, has_file, hits, create_dtm, update_dtm)
	VALUES(#{typeSeq}, #{memberId}, #{memberNick}, #{title}, #{content}, 
	NULL, 0, DATE_FORMAT(now(), '%Y%m%d%H%i%s'), DATE_FORMAT(now(), '%Y%m%d%H%i%s'));

	</insert>

	<select id="read" parameterType="HashMap" resultType="HashMap">
	</select>

	<update id="updateHits" parameterType="HashMap">
	</update>

	<update id="update" parameterType="HashMap">

	</update>

	<update id="updateHasFileToZero" parameterType="HashMap">

	</update>

	<delete id="delete" parameterType="HashMap">

	</delete>


</mapper>